<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŒŠ Journey of the Forgotten Island ðŸŒŠ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .game-container {
            max-width: 900px;
            width: 90%;
            background: rgba(0,0,0,0.8);
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            overflow: hidden;
            border: 2px solid #4a90e2;
        }
        .game-header {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            padding: 20px;
            text-align: center;
            border-bottom: 3px solid #4a90e2;
        }
        .game-title { font-size: 2.5em; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); margin-bottom: 10px; color: #ffffff; }
        .game-subtitle { font-size: 1.2em; color: #ffffff; opacity: 0.9; }
        .game-screen {
            height: 500px;
            padding: 20px;
            overflow-y: auto;
            background: #000000;
            border-bottom: 2px solid #4a90e2;
            font-size: 14px;
            line-height: 1.6;
            position: relative;
        }
        .game-input-area {
            background: #1a1a1a;
            padding: 15px;
            border-top: 1px solid #333;
        }
        .input-container { display: flex; gap: 10px; align-items: center; }
        .prompt { color: #4a90e2; font-weight: bold; font-size: 18px; }
        #gameInput {
            flex: 1;
            background: #2a2a2a;
            border: 2px solid #4a90e2;
            border-radius: 5px;
            padding: 10px;
            color: #ffffff;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            outline: none;
        }
        #gameInput:focus {
            border-color: #feca57;
            box-shadow: 0 0 10px rgba(254, 202, 87, 0.3);
        }
        .send-button {
            background: linear-gradient(45deg, #4a90e2, #357abd);
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .send-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.4);
        }
        .game-output { color: #ffffff; }
        .room-title { color: #feca57; font-size: 1.3em; font-weight: bold; margin: 15px 0 10px 0; text-decoration: underline; }
        .room-description { color: #a8e6cf; margin: 10px 0; line-height: 1.8; }
        .items-list { color: #ff8b94; margin: 10px 0; }
        .exits-list { color: #87ceeb; margin: 10px 0; font-weight: bold; }
        .inventory-list { color: #dda0dd; margin: 10px 0; }
        .status-info { color: #90ee90; margin: 10px 0; }
        .error-message { color: #ff6b6b; font-weight: bold; }
        .success-message { color: #4ecdc4; font-weight: bold; }
        .help-commands { color: #ffd93d; background: rgba(255,217,61,0.1); padding: 10px; border-radius: 5px; margin: 10px 0; }
        .game-stats { display: flex; justify-content: space-between; background: #1a1a1a; padding: 10px 20px; border-top: 1px solid #333; font-size: 14px; }
        .stat-item { color: #4a90e2; }
        .victory-message { color: #ffd700; font-size: 1.5em; text-align: center; background: rgba(255,215,0,0.2); padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #ffd700; }
        @media (max-width: 768px) {
            .game-title { font-size: 2em; }
            .game-screen { height: 400px; }
            .input-container { flex-direction: column; gap: 10px; }
            #gameInput { width: 100%; }
        }
    </style>
</head>
<body>
<div class="game-container">
    <div class="game-header">
        <div class="game-title">ðŸŒŠ Journey of the Forgotten Island ðŸŒŠ</div>
        <div class="game-subtitle">A Text-Based Adventure Game</div>
    </div>

    <div class="game-screen" id="gameScreen">
        <div class="game-output" id="gameOutput">
            <div class="room-description">
                Welcome to Journey of the Forgotten Island!<br><br>
                You wake up on a sandy beach, waves gently lapping at your feet.<br>
                The last thing you remember is your ship being caught in a terrible storm.<br>
                Now you find yourself on an unknown island, with no sign of your crew.<br>
                The sun is setting, and you need to find shelter and a way off this island.<br><br>
                <span class="help-commands">Type 'help' to see available commands or 'start' to begin your adventure!</span>
            </div>
        </div>
    </div>

    <div class="game-stats">
        <div class="stat-item">Health: <span id="healthStat">100/100</span></div>
        <div class="stat-item">Score: <span id="scoreStat">0</span></div>
        <div class="stat-item">Location: <span id="locationStat">Unknown</span></div>
    </div>

    <div class="game-input-area">
        <div class="input-container">
            <span class="prompt">></span>
            <input type="text" id="gameInput" placeholder="Enter your command here..." autocomplete="off">
            <button class="send-button" onclick="processCommand()">Send</button>
        </div>
    </div>
</div>

<script>
let gameState = {
    currentRoom: 0,
    playerHealth: 100,
    maxHealth: 100,
    playerScore: 0,
    inventory: [],
    maxInventory: 10,
    gameFlags: {},
    gameStarted: false,
    playerName: ""
};

const rooms = [
    { id:0, name:"Sandy Beach", description:"You are on a pristine sandy beach.", longDescription:"The warm sand feels good beneath your feet. Waves gently lap at the shore. To the west, a dense jungle beckons.", exits:{west:1, north:2}, items:["seashell","driftwood"], visited:false },
    { id:1, name:"Jungle Path", description:"A narrow path winds through dense tropical vegetation.", longDescription:"Thick vines hang from towering trees. The air is humid and filled with exotic birds and insects.", exits:{east:0, north:3, west:4}, items:["vine"], visited:false },
    { id:2, name:"Rocky Outcrop", description:"You stand on a high rocky formation.", longDescription:"You can see the entire island laid out before you. The beach stretches to the south, jungle covers most of the interior.", exits:{south:0, down:5}, items:["binoculars"], visited:false },
    { id:3, name:"Dense Jungle", description:"The jungle grows thicker here.", longDescription:"Massive trees tower overhead, their branches intertwined to form a canopy. Shafts of sunlight illuminate patches of colorful orchids.", exits:{south:1, west:6}, items:["machete"], visited:false },
    { id:4, name:"Ancient Ruins Entrance", description:"Crumbling entrance to ancient stone ruins.", longDescription:"Weathered stone blocks covered in carvings form an archway. Vines and moss cover the structure.", exits:{east:1, north:7}, items:["rusty key"], visited:false },
    { id:5, name:"Hidden Cave", description:"A damp cave hidden within rocks.", longDescription:"The cave is cool and damp, with water dripping from stalactites. Phosphorescent moss provides a faint glow.", exits:{up:2}, items:["torch","crystals"], visited:false },
    { id:6, name:"Mysterious Grove", description:"Circular clearing surrounded by ancient trees.", longDescription:"This grove feels different. Trees here are older and gnarled. A stone altar stands in the center.", exits:{east:3, north:8}, items:["herbs","stone tablet"], visited:false },
    { id:7, name:"Temple Antechamber", description:"Stone chamber with ancient artifacts.", longDescription:"The chamber is lined with stone shelves holding mysterious objects. Faded murals depict ancient ceremonies.", exits:{south:4, north:8}, items:["temple key","ancient scroll","healing potion"], visited:false },
    { id:8, name:"Inner Temple", description:"Heart of the ancient temple.", longDescription:"Grand chamber with carved stone pillars. Light filters through openings. Passage east leads deeper.", exits:{south:7, east:9, west:6}, items:["golden idol"], visited:false, locked:true, unlockKey:"temple key" },
    { id:9, name:"Treasure Chamber", description:"Legendary treasure chamber!", longDescription:"Filled with golden artifacts and precious gems. Hidden passage leads to a dock for escape.", exits:{west:8}, items:["ancient treasure","treasure map","emergency supplies"], visited:false }
];

const items = {
    "seashell": { name:"seashell", description:"A beautiful conch shell washed up by the waves.", canTake:true, canUse:false, value:5, type:"treasure" },
    "driftwood": { name:"driftwood", description:"A piece of weathered wood from your shipwreck.", canTake:true, canUse:true, value:10, type:"tool" },
    "vine": { name:"vine", description:"A strong, flexible vine useful for climbing.", canTake:true, canUse:true, value:15, type:"tool" },
    "binoculars": { name:"binoculars", description:"Old but functional binoculars.", canTake:true, canUse:true, value:25, type:"tool" },
    "torch": { name:"torch", description:"Provides light in dark places.", canTake:true, canUse:true, value:30, type:"tool" },
    "crystals": { name:"crystals", description:"Luminescent crystals glowing with light.", canTake:true, canUse:false, value:50, type:"treasure" },
    "machete": { name:"machete", description:"Sharp for cutting jungle vegetation.", canTake:true, canUse:true, value:40, type:"weapon", damage:15 },
    "herbs": { name:"herbs", description:"Medicinal herbs restoring health.", canTake:true, canUse:true, value:25, type:"consumable", healAmount:25 },
    "stone tablet": { name:"stone tablet", description:"Ancient stone tablet with hieroglyphs.", canTake:true, canUse:false, value:35, type:"tool" },
    "rusty key": { name:"rusty key", description:"Old rusty key that might open something.", canTake:true, canUse:true, value:20, type:"key", unlocks:"chest" },
    "temple key": { name:"temple key", description:"Ornate golden key matching temple symbols.", canTake:true, canUse:true, value:75, type:"key", unlocks:"inner temple" },
    "ancient scroll": { name:"ancient scroll", description:"Faded scroll with warnings about temple guardians.", canTake:true, canUse:false, value:30, type:"tool" },
    "healing potion": { name:"healing potion", description:"Healing potion in crystal vial.", canTake:true, canUse:true, value:50, type:"consumable", healAmount:50 },
    "golden idol": { name:"golden idol", description:"Golden idol of an ancient deity.", canTake:true, canUse:false, value:100, type:"treasure" },
    "ancient treasure": { name:"ancient treasure", description:"Legendary treasure of the forgotten island.", canTake:true, canUse:false, value:500, type:"treasure" },
    "treasure map": { name:"treasure map", description:"Map showing hidden dock and route home.", canTake:true, canUse:true, value:100, type:"tool" },
    "emergency supplies": { name:"emergency supplies", description:"Emergency food and water supplies.", canTake:true, canUse:true, value:75, type:"consumable", healAmount:75 }
};

function displayOutput(text, className='') {
    const output = document.getElementById('gameOutput');
    const div = document.createElement('div');
    div.className = className;
    div.innerHTML = text.replace(/\n/g,'<br>');
    output.appendChild(div);
    document.getElementById('gameScreen').scrollTop = document.getElementById('gameScreen').scrollHeight;
}

function clearScreen() { document.getElementById('gameOutput').innerHTML = ''; }
function updateStats() {
    document.getElementById('healthStat').textContent = `${gameState.playerHealth}/${gameState.maxHealth}`;
    document.getElementById('scoreStat').textContent = gameState.playerScore;
    document.getElementById('locationStat').textContent = gameState.gameStarted ? rooms[gameState.currentRoom].name : 'Unknown';
}
function displayRoom() {
    const room = rooms[gameState.currentRoom];
    displayOutput(`=== ${room.name} ===`, 'room-title');
    const description = !room.visited && room.longDescription ? room.longDescription : room.description;
    displayOutput(description, 'room-description');
    if(room.items.length>0) { displayOutput('\nYou can see:', 'items-list'); room.items.forEach(i=>displayOutput(`  ${i} ${items[i].canTake?'(you can take this)':''}`, 'items-list')); }
    const exitList = Object.keys(room.exits);
    displayOutput(`\nExits: ${exitList.join(', ')}`, 'exits-list');
    room.visited = true;
    updateStats();
}

function processCommand() {
    const input = document.getElementById('gameInput');
    const command = input.value.trim().toLowerCase();
    input.value = '';
    if(!command) return;
    displayOutput(`> ${command}`, 'success-message');

    if(!gameState.gameStarted) {
        if(command==='start') {
            gameState.gameStarted = 'namePrompt';
            displayOutput('Enter your name to begin:', 'room-description');
        } else {
            displayOutput('Type "start" to begin your adventure!', 'error-message');
        }
        return;
    }

    if(gameState.gameStarted === 'namePrompt') {
        gameState.playerName = command || 'Adventurer';
        gameState.gameStarted = true;
        displayOutput(`\nWelcome, ${gameState.playerName}!\n`, 'success-message');
        displayRoom();
        return;
    }

    handleGameCommand(command);
    checkWinCondition();
}

function handleGameCommand(command) {
    const words = command.split(' '), action = words[0], target = words.slice(1).join(' ');
    switch(action) {
        case 'help': case 'h': showHelp(); break;
        case 'go': case 'move': if(target) handleMovement(target); else displayOutput('Go where?', 'error-message'); break;
        case 'north': case 'n': handleMovement('north'); break;
        case 'south': case 's': handleMovement('south'); break;
        case 'east': case 'e': handleMovement('east'); break;
        case 'west': case 'w': handleMovement('west'); break;
        case 'up': case 'u': handleMovement('up'); break;
        case 'down': case 'd': handleMovement('down'); break;
        case 'look': case 'l': if(target) handleExamine(target); else displayRoom(); break;
        case 'examine': case 'inspect': handleExamine(target); break;
        case 'take': case 'get': case 'pick': handleTake(target); break;
        case 'drop': case 'leave': handleDrop(target); break;
        case 'use': handleUse(target); break;
        case 'inventory': case 'i': showInventory(); break;
        case 'status': case 'health': showStatus(); break;
        case 'score': displayOutput(`Current Score: ${gameState.playerScore}`, 'status-info'); break;
        case 'quit': case 'exit': case 'q': if(confirm('Are you sure you want to quit?')) location.reload(); break;
        default: displayOutput("I don't understand that command. Type 'help' for commands.", 'error-message');
    }
}

function showHelp() {
    displayOutput(`Available Commands:
- go [direction] / north / south / east / west / up / down
- look / examine [item]
- take [item] / drop [item]
- use [item]
- inventory / i
- status / health
- score
- quit / exit
`, 'help-commands');
}

function handleMovement(direction) {
    const room = rooms[gameState.currentRoom];
    if(!room.exits[direction]) { displayOutput('You cannot go that way.', 'error-message'); return; }
    const nextRoom = rooms[room.exits[direction]];
    if(nextRoom.locked) {
        const keyItem = nextRoom.unlockKey;
        if(gameState.inventory.includes(keyItem)) {
            displayOutput(`You use ${keyItem} to unlock the ${nextRoom.name}.`, 'success-message');
            nextRoom.locked = false;
        } else {
            displayOutput(`${nextRoom.name} is locked. You need ${keyItem}.`, 'error-message');
            return;
        }
    }
    gameState.currentRoom = nextRoom.id;
    displayRoom();
}

function handleExamine(target) {
    if(!target) { displayOutput('Examine what?', 'error-message'); return; }
    const room = rooms[gameState.currentRoom];
    if(room.items.includes(target)) { displayOutput(items[target].description, 'room-description'); return; }
    if(gameState.inventory.includes(target)) { displayOutput(items[target].description, 'room-description'); return; }
    displayOutput(`Cannot find '${target}' here.`, 'error-message');
}

function handleTake(target) {
    const room = rooms[gameState.currentRoom];
    if(!target) { displayOutput('Take what?', 'error-message'); return; }
    if(room.items.includes(target)) {
        if(gameState.inventory.length >= gameState.maxInventory) { displayOutput('Inventory full.', 'error-message'); return; }
        gameState.inventory.push(target);
        room.items = room.items.filter(i=>i!==target);
        displayOutput(`You take the ${target}.`, 'success-message');
        gameState.playerScore += items[target].value;
        updateStats();
    } else { displayOutput(`No ${target} here.`, 'error-message'); }
}

function handleDrop(target) {
    if(!target) { displayOutput('Drop what?', 'error-message'); return; }
    if(gameState.inventory.includes(target)) {
        gameState.inventory = gameState.inventory.filter(i=>i!==target);
        rooms[gameState.currentRoom].items.push(target);
        displayOutput(`You drop the ${target}.`, 'success-message');
    } else { displayOutput(`You don't have ${target}.`, 'error-message'); }
}

function handleUse(target) {
    if(!target) { displayOutput('Use what?', 'error-message'); return; }
    if(!gameState.inventory.includes(target)) { displayOutput(`You don't have ${target}.`, 'error-message'); return; }
    const item = items[target];
    if(item.type==='consumable') {
        if(item.healAmount) {
            gameState.playerHealth = Math.min(gameState.maxHealth, gameState.playerHealth + item.healAmount);
            displayOutput(`You use ${target} and restore ${item.healAmount} health.`, 'success-message');
            gameState.inventory = gameState.inventory.filter(i=>i!==target);
        }
    } else if(item.type==='tool') { displayOutput(`You use the ${target}, but nothing special happens.`, 'success-message');
    } else { displayOutput(`You cannot use ${target} now.`, 'error-message'); }
    updateStats();
}

function showInventory() {
    if(gameState.inventory.length===0) { displayOutput('Your inventory is empty.', 'status-info'); return; }
    displayOutput('Inventory:', 'inventory-list');
    gameState.inventory.forEach(i=>displayOutput(`- ${i}`, 'inventory-list'));
}

function showStatus() {
    displayOutput(`Health: ${gameState.playerHealth}/${gameState.maxHealth}\nScore: ${gameState.playerScore}`, 'status-info');
}

function checkWinCondition() {
    if(gameState.currentRoom === 9 && gameState.inventory.includes('ancient treasure')) {
        displayOutput('ðŸŽ‰ Congratulations! You have found the Ancient Treasure and escaped the Forgotten Island! ðŸŽ‰', 'victory-message');
        gameState.gameStarted = false;
    }
}

// Enable Enter key to submit commands
document.getElementById('gameInput').addEventListener('keydown', function(event) {
    if(event.key === 'Enter') {
        processCommand();
        event.preventDefault();
    }
});

updateStats();
</script>
</body>
</html>
